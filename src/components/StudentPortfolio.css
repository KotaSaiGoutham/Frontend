/* src/components/StudentPortfolio.css */

/* --- Custom CSS Variables (Refined Professional Palette) --- */
:root {
    /* Backgrounds & Surfaces */
    --color-background-primary: #F8F9FA; /* Very light gray */
    --color-background-card: #FFFFFF; /* Pure white for cards */
    --color-background-hover: #F0F2F5; /* Light gray for subtle hover effects */

    /* Text Colors */
    --color-text-heading: #212529; /* Dark charcoal for main titles */
    --color-text-body: #495057;   /* Medium gray for paragraphs/labels */
    --color-text-light: #6C757D;  /* Lighter gray for secondary text, axes */

    /* Accent & Brand Colors */
    --color-accent-primary: #007BFF; /* A clean, professional blue */
    --color-accent-secondary: #28A745; /* Green for success/good performance */
    --color-accent-tertiary: #FFC107; /* Orange for warnings/attention */
    --color-accent-danger: #DC3545; /* Red for errors/alerts */
    --color-accent-highlight: #FFF3CD; /* Light yellow for highlighting */
    --color-accent-highlight-border: #FFD280; /* Slightly darker border for highlight */


    /* Borders & Shadows */
    --color-border-light: #DEE2E6; /* Very light border */
    --shadow-soft: 0 4px 12px rgba(0, 0, 0, 0.08); /* Gentle shadow */
    --shadow-medium: 0 8px 20px rgba(0, 0, 0, 0.12); /* Slightly deeper shadow on hover */

    /* Spacing (consistent rhythm) */
    --spacing-xs: 0.5rem;   /* 8px */
    --spacing-sm: 0.75rem;  /* 12px */
    --spacing-md: 1rem;     /* 16px */
    --spacing-lg: 1.5rem;   /* 24px */
    --spacing-xl: 2rem;     /* 32px */
    --spacing-xxl: 3rem;    /* 48px */
}

/* --- Global / Base Styles --- */
body {
    font-family: 'Roboto', sans-serif; /* Fallback to generic sans-serif */
    margin: 0;
    padding: 0;
    background-color: var(--color-background-primary);
    color: var(--color-text-body);
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Base container for the entire portfolio page */
.portfolio-page-container {
    max-width: 1200px; /* Max width for content */
    margin: var(--spacing-xxl) auto; /* Center content with generous top/bottom margin */
    padding: 0 var(--spacing-lg); /* Horizontal padding for responsiveness */
    box-sizing: border-box; /* Include padding in element's total width */
    animation: fadeInPage 0.8s ease-out forwards; /* Initial fade-in for the whole page */
}

/* --- Header Section --- */
.portfolio-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: var(--color-background-card);
    padding: var(--spacing-xl);
    border-radius: 12px;
    box-shadow: var(--shadow-soft);
    margin-bottom: var(--spacing-xxl);
    flex-wrap: wrap; /* Allow wrapping on smaller screens */
    gap: var(--spacing-md); /* Space between title and button if wrapped */
    opacity: 0; /* Hidden initially for animation */
    animation: slideInTop 0.8s ease-out forwards; /* Header animation */
    animation-delay: 0.2s;
}

.portfolio-header .title-group {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
}

.portfolio-header h1 {
    font-size: 2.5rem; /* Large, prominent title */
    font-weight: 700;
    color: var(--color-text-heading);
    margin: 0; /* Reset default margin */
}

.portfolio-header .header-icon {
    font-size: 2.8rem;
    color: var(--color-accent-primary);
}

.portfolio-header .back-button {
    background-color: var(--color-accent-primary);
    color: var(--color-background-card);
    padding: var(--spacing-sm) var(--spacing-md);
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 500;
    transition: background-color 0.3s ease, transform 0.2s ease;
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    box-shadow: var(--shadow-soft);
}

.portfolio-header .back-button:hover {
    background-color: #0056b3; /* Darker shade of accent */
    transform: translateY(-2px);
    box-shadow: var(--shadow-medium);
}

/* --- Main Content Area & Card Styling --- */
.portfolio-content-area {
    display: grid;
    grid-template-columns: 1fr; /* Single column by default */
    gap: var(--spacing-xxl); /* Generous space between cards */
}

.portfolio-card {
    background-color: var(--color-background-card);
    padding: var(--spacing-xl);
    border-radius: 12px;
    box-shadow: var(--shadow-soft);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    opacity: 0; /* Hidden initially for animation */
    animation: fadeInCard 0.8s ease-out forwards; /* Card animation */
}

/* Staggered card animations */
.portfolio-card.delay-1 { animation-delay: 0.4s; }
.portfolio-card.delay-2 { animation-delay: 0.6s; }
.portfolio-card.delay-3 { animation-delay: 0.8s; }


.portfolio-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-medium);
}

.portfolio-card h2 {
    font-size: 1.8rem;
    font-weight: 600;
    color: var(--color-text-heading);
    margin-bottom: var(--spacing-lg);
    border-bottom: 1px solid var(--color-border-light);
    padding-bottom: var(--spacing-sm);
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
}

.portfolio-card .card-icon {
    font-size: 1.8rem;
    color: var(--color-accent-primary); /* Accent color for card titles */
}

/* --- Personal Details Card Specifics --- */
.personal-details-card .details-grid {
    display: grid;
    grid-template-columns: 1fr; /* Single column by default */
    gap: var(--spacing-md); /* Vertical gap */
    /* On larger screens, this will become multi-column via media queries */
}

.personal-details-card .detail-item {
    display: flex;
    flex-direction: column; /* Stack label and value */
    padding: var(--spacing-sm) 0;
    border-bottom: 1px dashed var(--color-border-light); /* Subtle separator */
}

.personal-details-card .detail-item:last-child {
    border-bottom: none; /* No border for the last item */
}

/* Highlighting specific detail items */
.personal-details-card .detail-item.highlighted {
    background-color: var(--color-accent-highlight);
    border: 1px solid var(--color-accent-highlight-border);
    border-radius: 8px; /* Rounded corners for highlighted item */
    padding: var(--spacing-md); /* More padding */
    margin: var(--spacing-xs) 0; /* Adjust margins for visual separation */
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    transition: background-color 0.3s ease;
}
.personal-details-card .detail-item.highlighted .detail-label {
    color: var(--color-text-heading); /* Make label darker in highlighted item */
}
.personal-details-card .detail-item.highlighted .detail-value {
    color: var(--color-text-heading); /* Make value darker in highlighted item */
    font-weight: 700;
}
/* Ensure the last highlighted item also doesn't have border-bottom from general rule */
.personal-details-card .detail-item.highlighted:last-child {
    border-bottom: none;
}


.personal-details-card .detail-label {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    font-size: 0.95rem;
    font-weight: 500;
    color: var(--color-text-light);
    margin-bottom: var(--spacing-xs); /* Space between label and value */
}

.personal-details-card .detail-icon {
    font-size: 1.1rem;
    color: var(--color-accent-primary);
}

.personal-details-card .detail-value {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--color-text-body);
    /* Removed margin-left: calc(...) for cleaner alignment with column structure */
}

/* Payment Status Badge */
.payment-status-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-xs) var(--spacing-sm);
    border-radius: 20px; /* Pill shape */
    font-size: 0.85rem;
    font-weight: 700;
    text-transform: uppercase;
    white-space: nowrap;
    animation: fadeIn 0.5s ease-out forwards; /* subtle fade in for badge */
}

.payment-status-badge.paid {
    background-color: rgba(40, 167, 69, 0.15); /* Light green background */
    color: var(--color-accent-secondary); /* Darker green text */
}

.payment-status-badge.unpaid {
    background-color: rgba(220, 53, 69, 0.15); /* Light red background */
    color: var(--color-accent-danger); /* Darker red text */
}

/* --- Chart Sections (Marks & Payments) --- */
.chart-container {
    padding: var(--spacing-md) 0; /* Padding around the chart itself */
}

/* Recharts Customizations (using !important for overrides) */
.recharts-default-tooltip {
    background-color: var(--color-background-card) !important;
    border: 1px solid var(--color-border-light) !important;
    border-radius: 8px !important;
    padding: var(--spacing-md) !important;
    box-shadow: var(--shadow-soft) !important;
    line-height: 1.4 !important;
}

.recharts-tooltip-label {
    font-weight: 600 !important;
    color: var(--color-text-heading) !important;
    margin-bottom: var(--spacing-xs) !important;
    font-size: 1rem !important;
}

.recharts-tooltip-item {
    color: var(--color-text-body) !important;
    font-size: 0.9rem !important;
    display: flex !important;
    align-items: center !important;
    gap: var(--spacing-xs) !important;
}
.recharts-tooltip-item-name {
    font-weight: 500;
}
.recharts-tooltip-item-value {
    font-weight: 600;
}

/* No Data Message */
.no-data-message {
    text-align: center;
    padding: var(--spacing-lg);
    background-color: var(--color-background-primary);
    border: 1px dashed var(--color-border-light);
    border-radius: 8px;
    color: var(--color-text-light);
    font-size: 1.1rem;
}

/* --- Loading / Error / Not Found States --- */
.full-page-message-container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background-color: var(--color-background-primary);
    text-align: center;
    padding: var(--spacing-xl);
    box-sizing: border-box;
}

.full-page-message-card {
    background-color: var(--color-background-card);
    padding: var(--spacing-xxl);
    border-radius: 12px;
    box-shadow: var(--shadow-medium);
    max-width: 500px;
    width: 100%;
    animation: fadeInCard 0.6s ease-out forwards; /* Animation for the message card */
}

.full-page-message-card h3 {
    font-size: 2rem;
    color: var(--color-accent-danger); /* Red for error/not found */
    margin-bottom: var(--spacing-md);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-sm);
}

.full-page-message-card p {
    font-size: 1.1rem;
    color: var(--color-text-body);
    margin-bottom: var(--spacing-xl);
}

.loading-spinner {
    border: 4px solid var(--color-border-light);
    border-top: 4px solid var(--color-accent-primary);
    border-radius: 50%;
    width: 50px;
    height: 50px;
    animation: spin 1s linear infinite;
    margin-bottom: var(--spacing-xl);
}

/* --- Animations --- */
@keyframes fadeInPage {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes fadeInCard {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes slideInTop {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* --- Responsive Design --- */

/* Tablet & Smaller Desktops (768px - 1199px) */
@media (min-width: 768px) and (max-width: 1199px) {
    .portfolio-page-container {
        padding: 0 var(--spacing-md);
        margin: var(--spacing-xl) auto;
    }
    .portfolio-header h1 {
        font-size: 2rem;
    }
    .portfolio-header .header-icon {
        font-size: 2.2rem;
    }
    .portfolio-card h2 {
        font-size: 1.6rem;
    }
    .portfolio-card .card-icon {
        font-size: 1.6rem;
    }

    /* Personal details: 2 columns */
    .personal-details-card .details-grid {
        grid-template-columns: repeat(2, 1fr);
        column-gap: var(--spacing-xl); /* More horizontal space */
    }
    .personal-details-card .detail-item.highlighted {
        grid-column: span 2; /* Highlighted items span full width in 2-column layout */
    }
}

/* Larger Desktops (1200px and up) */
@media (min-width: 1200px) {
    /* Personal details: 3 columns */
    .personal-details-card .details-grid {
        grid-template-columns: repeat(3, 1fr);
        column-gap: var(--spacing-xl);
    }
    /* Highlighted items span 2 columns in 3-column layout, or full 3 if preferred */
    .personal-details-card .detail-item.highlighted {
        grid-column: span 2; /* Span 2 columns */
    }
    /* If you want the highlighted item to take the full row (3 columns) uncomment below */
    /* .personal-details-card .detail-item.highlighted {
        grid-column: span 3;
    } */
}


/* Mobile (up to 767px) */
@media (max-width: 767px) {
    .portfolio-page-container {
        padding: 0 var(--spacing-md);
        margin: var(--spacing-lg) auto;
    }
    .portfolio-header {
        flex-direction: column;
        align-items: flex-start;
        padding: var(--spacing-lg);
        margin-bottom: var(--spacing-xl);
    }
    .portfolio-header .title-group {
        width: 100%;
        margin-bottom: var(--spacing-md);
        justify-content: center;
    }
    .portfolio-header h1 {
        font-size: 1.8rem;
        text-align: center;
    }
    .portfolio-header .header-icon {
        font-size: 2rem;
    }
    .portfolio-header .back-button {
        width: 100%;
        justify-content: center;
    }
    .portfolio-card {
        padding: var(--spacing-lg);
    }
    .portfolio-card h2 {
        font-size: 1.4rem;
        flex-direction: column;
        gap: var(--spacing-xs);
        text-align: center;
    }
    .portfolio-card .card-icon {
        font-size: 1.5rem;
    }

    /* Personal details remain single column on mobile */
    .personal-details-card .detail-value {
        /* Removed margin-left as column layout is single */
    }
    .personal-details-card .detail-item.highlighted {
        grid-column: span 1; /* Highlighted items also single column */
    }
}
/* src/components/StudentPortfolio.css */

/* ... (your existing CSS styles) ... */

/* Style for the Weekly Marks Performance card header */
.portfolio-card.marks-card h2 {
    display: flex;               /* Make the h2 a flex container */
    justify-content: space-between; /* Pushes first item (group) to left, second item (button) to right */
    align-items: center;         /* Vertically align items in the middle */
    margin-bottom: var(--spacing-lg); /* Maintain some space below the header */
    color: var(--color-text-heading);
    /* Ensure there's space for the button */
    padding-right: var(--spacing-md); /* Add a little padding to the right if button touches edge */
}

/* Style the new group containing the icon and text */
.portfolio-card.marks-card h2 .title-and-icon-group {
    display: flex;             /* Make this group a flex container too */
    align-items: center;       /* Vertically align icon and text within the group */
    gap: var(--spacing-sm);    /* Add a small gap between icon and text */
    /* If you want the text to wrap, consider `flex-wrap: wrap;` here, though usually not needed for a short title */
}

/* Optional: Adjust button styling if necessary */
.portfolio-card.marks-card h2 .MuiButton-root {
    flex-shrink: 0; /* Prevent the button from shrinking if space is tight */
    /* Any specific margin or padding overrides for MUI buttons if default ones cause issues */
}

/* Original card-icon styles might need adjustment if they had direct margins
   that now conflict with 'gap' on .title-and-icon-group.
   You can remove direct margins on .card-icon inside this h2.
*/
.portfolio-card.marks-card h2 .card-icon {
    /* If you had 'margin-right' here, remove it, as 'gap' handles it now */
}